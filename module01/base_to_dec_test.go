package module01

import (
	"fmt"
	"testing"
)

func TestBaseToDec(t *testing.T) {
	tests := []struct {
		value string
		base  int
		want  int
	}{
		{"1", 2, 1},
		{"10", 2, 2},
		{"21", 3, 7},
		{"1110", 2, 14},
		{"E", 16, 14},
		{"11", 16, 17},
		{"11011110101011011011111011101111", 2, 3735928559},
		{"100122100210211112102", 3, 3735928559},
		{"3132223123323233", 4, 3735928559},
		{"30122344203214", 5, 3735928559},
		{"1414413525315", 6, 3735928559},
		{"161402603666", 7, 3735928559},
		{"33653337357", 8, 3735928559},
		{"10570724472", 9, 3735928559},
		{"3735928559", 10, 3735928559},
		{"164791A470", 11, 3735928559},
		{"8831A383B", 12, 3735928559},
		{"476CC321C", 13, 3735928559},
		{"276253DDD", 14, 3735928559},
		{"16CEB1BDE", 15, 3735928559},
		{"DEADBEEF", 16, 3735928559},
	}

	for _, tc := range tests {
		t.Run(fmt.Sprintf("%v in base %v", tc.value, tc.base), func(t *testing.T) {
			got := BaseToDec(tc.value, tc.base)
			if got != tc.want {
				t.Fatalf("BaseToDec() = %v; want %v", got, tc.want)
			}
		})
	}
}
